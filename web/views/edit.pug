extends layout

block content
  h1= title
    div(style="display:inline-block;margin-left:1em",data-spy="affix",data-offset-top="30")
      img(src=baseURL+"/images/ajax-loader.gif",style="visibility:hidden")#loading
      div.btn-group
        input(type='hidden')#osk
      div.btn-group
        a.btn.btn-primary#btn-osk
          img(src=baseURL+'/images/keyboard.svg',height=20,style='-webkit-filter:invert(100%); filter:invert(100%);')
      div.btn-group
        a.btn.btn-default#btn-load
          +icon('repeat', 'Reset')
        a.btn.btn-warning#btn-sort 
          +icon('sort-by-attributes', 'Sort languages')
        a.btn.btn-success#btn-save
          +icon('ok', 'Save')
        a.btn.btn-danger#btn-delete 
          +icon('remove', 'Delete')
        //- a.btn.btn-default#btn-cancel(href=baseURL+"/") Cancel

  div#editor-holder
    
  style.
    .tt-menu.tt-open {
      background-color: rgba(255, 255, 255, 0.9);
      border: 1px solid #ccc;
      border-radius: 5px;
      min-width: 8em;      
    }
    .tt-menu.tt-open .tt-suggestion {
      padding: 3px 5px;
    }
    .tt-menu.tt-open .tt-suggestion:hover,
    .tt-menu.tt-open .tt-suggestion.tt-cursor {
      cursor: pointer;
      background-color: lemonchiffon;
    }
    .affix {
      top: 0px;
      right: 10px;
      z-index: 10000;
    }

    /* These are combined with dropdown-menu */
    //- /* Local */
    //- .ui-keyboard {
    //-   left: auto;
    //-   top: auto;
    //-   position: absolute;
    //- }
    /* Global */
    .ui-keyboard {
      width: 25em;
      padding: 5px;
      top: 18px;
      left: 10px;
    }
    .ui-keyboard .ui-keyboard-spacer {
      display: inline-block;
    }
    .ui-keyboard button {
      margin-bottom: 2px;
      padding: 5px 12px;
    }

  //- Pass info to global object for script to access
  script.
    Minsel['id'] = '#{id}'
    Minsel['schema'] = !{schema}
    Minsel['languages'] = !{JSON.stringify(languages)}
    Minsel['references'] = !{JSON.stringify(references)}
    
  script(src=baseURL+'/javascripts/cursor.js')
  script(src=baseURL+'/javascripts/edit.js')
